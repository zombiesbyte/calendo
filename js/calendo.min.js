var Calendo={selectedDateObj1:new Date,selectedDataObj2:new Date,selectedDay1:0,selectedDay2:0,selectedMonth1:0,selectedMonth2:0,selectedYear1:0,selectedYear2:0,previousDay1:0,previousMonth1:0,previousYear1:0,appOptions:{},thisDateObj:new Date,thisYear:0,thisMonthInt:0,thisDateInt:0,thisDayInt:"",thisMonthStr:"",thisDayStr:"",totalDaysThisMonth:0,init:function(a){Calendo.appOptions=Calendo.defineOptions(a),Calendo.selectedMonth1=Calendo.selectedDateObj1.getMonth(),Calendo.selectedMonth2=Calendo.selectedDateObj1.getMonth(),Calendo.selectedYear1=Calendo.selectedDateObj1.getFullYear(),Calendo.selectedYear2=Calendo.selectedDateObj1.getFullYear(),$("[data-calendo]").wrap("<div class=\"calendoContainer\"></div>"),$("[data-calendo]").on("click",function(){0==$(this).parent().find(".calendo").length?($inputE=$(this),Calendo==null&&$(this).parent().find(".calendo").remove(),Calendo.setValue($inputE.val()),$(this).parent().append(Calendo.attach()),$(".monthSpan").on("click",function(){Calendo.changeView("month")}),$(".yearSpan").on("click",function(){Calendo.changeView("year")}),$("[data-calendo-nav=\"left\"]").on("click",function(){Calendo.previousMonth(),Calendo.changeView("day")}),$("[data-calendo-nav=\"right\"]").on("click",function(){Calendo.nextMonth(),Calendo.changeView("day")}),Calendo.dateClicker($inputE),$("[data-calendo-month]").on("click",function(){Calendo.selectedMonth1=$(this).data("calendo-month"),Calendo.changeView("day"),Calendo.dateClicker($inputE)}),$("[data-calendo-year]").on("click",function(){Calendo.selectedYear1=$(this).data("calendo-year"),Calendo.changeView("day"),Calendo.dateClicker($inputE)})):$(this).parent().find(".calendo").remove()}),$(".calendoContainer").on("mouseleave",function(){$(this).find(".calendo").remove()})},dateClicker:function(a){$("[data-calendo-select]").on("click",function(){0==Calendo.appOptions.selections&&(Calendo.selectedDay1=$(this).data("calendo-select"),$inputE.attr("value",Calendo.getDateFormat(Calendo.selectedDay1,Calendo.selectedMonth1,Calendo.selectedYear1))),$(this).addClass("selected"),a.parent().find(".calendo").remove()})},setValue:function(a){var b=0,c=0,d=0,e=0,f=0,g=0;Calendo.appOptions.value!=null&&(a=Calendo.appOptions.value),a!=null&&""!=a&&0==Calendo.appOptions.selections&&(b=2==Calendo.appOptions.dateFormatDay?Calendo.appOptions.dateFormatStr.indexOf("dd"):Calendo.appOptions.dateFormatStr.indexOf("d"),c=2==Calendo.appOptions.dateFormatMonth?Calendo.appOptions.dateFormatStr.indexOf("mm"):Calendo.appOptions.dateFormatStr.indexOf("m"),d=4==Calendo.appOptions.dateFormatYear?Calendo.appOptions.dateFormatStr.indexOf("yyyy"):Calendo.appOptions.dateFormatStr.indexOf("yy"),e=a.substring(b,b+Calendo.appOptions.dateFormatDay),f=a.substring(c,c+Calendo.appOptions.dateFormatMonth),g=a.substring(d,d+Calendo.appOptions.dateFormatYear),Calendo.thisDateObj.setFullYear(g,f-1,e),Calendo.selectedDay1=Calendo.thisDateObj.getDate(),Calendo.selectedMonth1=Calendo.thisDateObj.getMonth(),Calendo.selectedYear1=Calendo.thisDateObj.getFullYear(),Calendo.previousDay1=Calendo.selectedDay1,Calendo.previousMonth1=Calendo.selectedMonth1,Calendo.previousYear1=Calendo.selectedYear1)},updateValues:function(){Calendo.thisDateObj.setFullYear(Calendo.selectedYear1,Calendo.selectedMonth1,Calendo.selectedDay1),Calendo.thisYear=Calendo.thisDateObj.getFullYear(),Calendo.thisMonthInt=Calendo.selectedMonth1,Calendo.thisDateInt=Calendo.thisDateObj.getDate(),Calendo.thisDayInt=Calendo.thisDateObj.getDay(),Calendo.thisMonthStr=Calendo.intMonthToStrMonth(Calendo.thisMonthInt),Calendo.thisDayStr=Calendo.intDayToStrDay(Calendo.thisDayInt,Calendo.appOptions.modifier),Calendo.totalDaysThisMonth=Calendo.daysInThisMonth(),$("span.monthSpan").html(Calendo.thisMonthStr),$("span.yearSpan").html(Calendo.thisYear)},defineOptions:function(a){return Calendo.appOptions={},Calendo.appOptions.modifier=null==a.startWeekOn?0:"monday"==a.startWeekOn?-1:"tuesday"==a.startWeekOn?5:"wednesday"==a.startWeekOn?4:"thursday"==a.startWeekOn?3:"friday"==a.startWeekOn?2:"saturday"==a.startWeekOn?1:"sunday"==a.startWeekOn?0:0,null==a.selectionType?Calendo.appOptions.selections=0:"single"==a.selectionType?Calendo.appOptions.selections=0:"double"==a.selectionType&&(Calendo.appOptions.selections=1),null==a.dateFormat?a.dateFormat="dd-mm-yyyy":(Calendo.appOptions.dateFormatDay=-1<a.dateFormat.search("dd")?2:1,Calendo.appOptions.dateFormatMonth=-1<a.dateFormat.search("mm")?2:1,Calendo.appOptions.dateFormatYear=-1<a.dateFormat.search("yyyy")?4:2,Calendo.appOptions.dateFormatStr=a.dateFormat),null!=a.value&&(Calendo.appOptions.value=a.value),Calendo.appOptions.yearsPerRow=null==a.yearsPerRow?6:a.yearsPerRow,Calendo.appOptions.preYearRows=null==a.preYearRows?20:a.preYearRows,Calendo.appOptions.postYearRows=null==a.postYearRows?20:a.postYearRows,Calendo.appOptions.leftMenuBtnClass=null==a.leftMenuBtnClass?"is-dark":a.leftMenuBtnClass,Calendo.appOptions.leftMenuBtniClass=null==a.leftMenuBtniClass?"fa fa-chevron-left":a.leftMenuBtniClass,Calendo.appOptions.rightMenuBtnClass=null==a.rightMenuBtnClass?"is-dark":a.rightMenuBtnClass,Calendo.appOptions.rightMenuBtniClass=null==a.rightMenuBtniClass?"fa fa-chevron-right":a.rightMenuBtniClass,Calendo.appOptions},attach:function(){return Calendo.thisYear=Calendo.thisDateObj.getFullYear(),Calendo.thisMonthInt=Calendo.thisDateObj.getMonth(),Calendo.thisDateInt=Calendo.thisDateObj.getDate(),Calendo.thisDayInt=Calendo.thisDateObj.getDay(),Calendo.thisMonthStr=Calendo.intMonthToStrMonth(Calendo.thisMonthInt),Calendo.thisDayStr=Calendo.intDayToStrDay(Calendo.thisDayInt,Calendo.appOptions.modifier),Calendo.totalDaysThisMonth=Calendo.daysInThisMonth(),$calendo=$("<div>").addClass("calendo"),$calendoMenu=$("<div>").addClass("columns is-gapless menu-do"),$calendoMenu.append(Calendo.leftMenu()),$calendoMenu.append(Calendo.monthYearMenu()),$calendoMenu.append(Calendo.rightMenu()),$calendo.append($calendoMenu),$calendo.append(Calendo.daysView()),$calendo.append(Calendo.monthsView()),$calendo.append(Calendo.yearsView()),$calendo},leftMenu:function(){var a=$("<div>").addClass("column has-text-centered leftCalNav");return a.html("<button class=\"button "+Calendo.appOptions.leftMenuBtnClass+"\" type=\"button\" data-calendo-nav=\"left\"><i class=\""+Calendo.appOptions.leftMenuBtniClass+"\"></i></button>"),a},monthYearMenu:function(){var a=$("<div>").addClass("column has-text-centered monthYearCalMenu is-6");return a.html("<p><span class=\"monthSpan\">"+Calendo.thisMonthStr+"</span> <span class=\"yearSpan\">"+Calendo.thisYear+"</span></p>"),a},rightMenu:function(){var a=$("<div>").addClass("column has-text-centered rightCalNav");return a.html("<button class=\"button "+Calendo.appOptions.rightMenuBtnClass+"\" type=\"button\" data-calendo-nav=\"right\"><i class=\""+Calendo.appOptions.rightMenuBtniClass+"\"></i></button>"),a},changeView:function(a){"day"==a?(Calendo.updateValues(),$(".daySelector").html(Calendo.daysView()),$(".daySelector").show(200),$(".monthSelector").hide(),$(".yearSelector").hide()):"month"==a?($(".daySelector").hide(),$(".monthSelector").show(),$(".yearSelector").hide()):"year"==a&&($(".daySelector").hide(),$(".monthSelector").hide(),$(".yearSelector").show())},previousMonth:function(){Calendo.selectedMonth1--,-1==Calendo.selectedMonth1&&(Calendo.selectedMonth1=11,Calendo.selectedYear1--)},nextMonth:function(){Calendo.selectedMonth1++,12==Calendo.selectedMonth1&&(Calendo.selectedMonth1=0,Calendo.selectedYear1++)},daysView:function(){$daysView=$("<div>").addClass("columns is-gapless dayLetterRow");var a=["S","M","T","W","T","F","S"];if(0!=Calendo.appOptions.modifier)for(var a,b=Calendo.appOptions.modifier;7>b;b++)a=Calendo.arrayRotateOne(a);for(var c="",b=0;b<a.length;b++)c+="<div class=\"column has-text-centered unit\">"+a[b]+"</div>";$daysView.append(c);for(var d=Calendo.daysInThisMonth(Calendo.thisDateObj.getFullYear(),Calendo.thisDateObj.getMonth()),e=new Date(Calendo.thisMonthStr+" "+Calendo.thisYear),f=e.getDay(),g=e.getMonth(),h=e.getFullYear(),i=new Date,j=i.getDate(),k=i.getMonth(),l=i.getFullYear(),m=1,o=0,p="",b=0;42>b;b++)0==o&&(p+="<div class=\"columns is-gapless dateRow\">"),p+=m<=d&&b>=f+Calendo.appOptions.modifier?m==Calendo.selectedDay1&&Calendo.selectedMonth1==Calendo.previousMonth1&&Calendo.selectedYear1==Calendo.previousYear1?"<div class=\"column has-text-centered unit selected\" data-calendo-select=\""+m+"\">"+m+"</div>":m==j&&Calendo.selectedMonth1==k&&Calendo.selectedYear1==l?"<div class=\"column has-text-centered unit today\" data-calendo-select=\""+m+"\">"+m+"</div>":"<div class=\"column has-text-centered unit\" data-calendo-select=\""+m+"\">"+m+"</div>":"<div class=\"column has-text-centered unit disabled\">&nbsp;</div>",b>=f+Calendo.appOptions.modifier&&m++,o++,7==o&&(p+="</div>",o=0);return $daysView="<div class=\"daySelector\">"+$daysView.prop("outerHTML")+p+"</div>",$daysView},monthsView:function(){for(var a=new Date,b=a.getDate(),c=a.getMonth(),d=a.getFullYear(),e=0,f="",g=0;12>g;g++)0==e&&(f+="<div class=\"columns is-gapless dateRow\">"),f+=g==c?"<div class=\"column has-text-centered unit today\" data-calendo-month=\""+g+"\">"+Calendo.intMonthToStrMonth(g).substring(0,3)+"</div>":g==Calendo.selectedMonth1?"<div class=\"column has-text-centered unit selected\" data-calendo-month=\""+g+"\">"+Calendo.intMonthToStrMonth(g).substring(0,3)+"</div>":"<div class=\"column has-text-centered unit\" data-calendo-month=\""+g+"\">"+Calendo.intMonthToStrMonth(g).substring(0,3)+"</div>",e++,4==e&&(f+="</div>",e=0);return"<div class=\"monthSelector\">"+f+"</div>"},yearsView:function(){for(var a=new Date,b=a.getDate(),c=a.getMonth(),d=a.getFullYear(),e=0,f="",g=d-Calendo.appOptions.yearsPerRow*Calendo.appOptions.preYearRows;g<d+Calendo.appOptions.yearsPerRow*Calendo.appOptions.postYearRows;g++)0==e&&(f+="<div class=\"columns is-gapless dateRow\">"),f+=g==d?"<div class=\"column has-text-centered unit today\" data-calendo-year=\""+g+"\">"+g+"</div>":g==Calendo.selectedYear1?"<div class=\"column has-text-centered unit selected\" data-calendo-year=\""+g+"\">"+g+"</div>":"<div class=\"column has-text-centered unit\" data-calendo-year=\""+g+"\">"+g+"</div>",e++,e==Calendo.appOptions.yearsPerRow&&(f+="</div>",e=0);return"<div class=\"yearSelector\">"+f+"</div>"},intDayToStrDay:function(a,b){a+=b;var c;return 0===a?c="Sunday":1===a?c="Monday":2===a?c="Tuesday":3===a?c="Wednesday":4===a?c="Thursday":5===a?c="Friday":6===a?c="Saturday":void 0,c},intMonthToStrMonth:function(a){var b;return 0===a?b="January":1===a?b="February":2===a?b="March":3===a?b="April":4===a?b="May":5===a?b="June":6===a?b="July":7===a?b="August":8===a?b="September":9===a?b="October":10===a?b="November":11===a?b="December":void 0,b},daysInThisMonth:function(a,b){return new Date(a,b+1,0).getDate()},arrayRotateOne:function(a,b){return b?a.unshift(a.pop()):a.push(a.shift()),a},getDateFormat:function(a,b,c){b+=1,a=Calendo.padStart(a,Calendo.appOptions.dateFormatDay),b=Calendo.padStart(b,Calendo.appOptions.dateFormatMonth),2==Calendo.appOptions.dateFormatYear&&(c=c.toString().substring(Calendo.appOptions.dateFormatYear));var d=Calendo.appOptions.dateFormatStr;return 1==Calendo.appOptions.dateFormatDay?d=d.replace("d",a):2==Calendo.appOptions.dateFormatDay&&(d=d.replace("dd",a)),1==Calendo.appOptions.dateFormatMonth?d=d.replace("m",b):2==Calendo.appOptions.dateFormatMonth&&(d=d.replace("mm",b)),2==Calendo.appOptions.dateFormatYear?d=d.replace("yy",c):4==Calendo.appOptions.dateFormatYear&&(d=d.replace("yyyy",c)),d},padStart:function(a,b){return 2==b?("00"+a).slice(-b):a}};